/*
Copyright 2019-present Open Networking Foundation.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/

syntax = "proto3";

// Package onos.topo defines interfaces for managing network top
package onos.topo;

import "google/protobuf/any.proto";
import "gogoproto/gogo.proto";

// Geographical location; expected value type of "location" attribute
message Location {
  double lat = 1;
  double lng = 2;
}

// Area of coverage; expected value type of "coverage" attribute
message Coverage {
  int32 height = 1;
  int32 arcWidth = 2;
  int32 azimuth = 3;
  int32 tilt = 4;
}

// E2Node persona; expected value type of "e2node" attribute
message E2Node {
  repeated string service_models = 1; // supported service model names
  map<string, RanFunctions> ran_functions = 2;
}

// E2Cell persona; expected value type of "e2cell" attribute
message E2Cell {
  string cid = 1 [(gogoproto.customname) = "CID"];
  uint32 antennaCount = 2;
  uint32 earfcn = 3 [(gogoproto.customname) = "EARFCN"];
  string cell_type = 4;
}

// Each entity with an E2Cell persona is expected to be a target of one and only one "controls" relation with a node
// that has an E2Node persona.

// Each entity with an E2Cell persona is expected to be the source of zero or more "neighbours" relations with target
// of another entity with an E2Node persona.

message RanFunctions {
  repeated google.protobuf.Any functions = 1;
}

message KPMRanFunction {
  string oid = 1 [(gogoproto.customname) = "OID"];
  repeated KPMMeasurement measurements = 2;
}

message KPMMeasurement {
  string oid = 1 [(gogoproto.customname) = "OID"];
  string name = 2;
}

message RCRanFunction {
  string oid = 1 [(gogoproto.customname) = "OID"];
}

